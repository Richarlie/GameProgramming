# 实验2
## 8587 行编辑程序
```C
#include <iostream>
#include <stack>
#include <algorithm>
#include <string>
using namespace std;
//利用栈编写简单的行编辑程序：接受用户从终端输入的程序或数据，
//在输入过程中，允许用户输入出差错，并在发现有误时可以及时更正。
//例如：当用户发现刚刚键入的一个字符是错的时，可以补进一个退格符“#”，以表示前一个字符无效；
//如果发现当前键入的行内差错较多或难以补救，则可以键入一个退行符“@”，以表示当前行中的字符均无效。
void ClearStack(stack<char>&s){
    while(!s.empty()){
        s.pop();
    }
}
void Loadout(stack<char>&s){
    stack<char>temp;
    while(!s.empty()){
        temp.push(s.top());
        s.pop();
    }
    while(!temp.empty()){
        cout<<temp.top();
        temp.pop();
    }
}

void LineEdit()
 { // 利用字符栈s，从终端接收一行并送至调用过程的数据区。算法3.2
   char ch,c;
   string str;
   stack<char>cop;
   int n,i;
   cin>>n;
   for(i=0;i<=n;i++)
   { getline(cin,str);
     for(char font:str)
    {
       switch(font)
       {
         case '#':cop.pop();
                  break; // 仅当栈非空时退栈
         case '@':ClearStack(cop);
                  break; // 重置s为空栈
         default :cop.push(font); // 有效字符进栈
       }
     }
     Loadout(cop); // 将从栈底到栈顶的栈内字符输出
     if(i!=0){cout<<endl;}
    }
 }

int main()
{
    LineEdit();
    return 0;
}
<!--stackedit_data:
eyJoaXN0b3J5IjpbMjA1NzkxNjUxOV19
-->